# K12家校学习资料共享平台 - MVP产品需求文档

## 一、产品概述

### 1.1 产品定位
构建面向K12阶段家长的学习资料共享平台，采用免审核发布和积分激励机制。支持的资源类型包括：教辅材料、试卷、课件、学习笔记等文档和图片格式文件。

### 1.2 核心约束
- **无金钱交易**：平台内所有交易均基于积分系统
- **纯积分机制**：用户通过贡献资源获得积分，消耗积分下载资源
- **免审核发布**：资源上传后立即可见，依靠用户举报维护秩序
- **不支持视频格式**：仅支持文档（PDF、DOC、PPT等）和图片格式

### 1.3 目标用户
- **主要用户**：K12学生家长（小学1年级-高中3年级）
- **用户特征**：关注孩子学习成绩，愿意分享和获取学习资源
- **使用场景**：寻找试卷、教辅、课件等学习材料

## 二、功能模块设计

### 2.1 用户管理模块
#### 2.1.1 用户注册/登录
- 手机号注册（验证码验证）
- 基本信息填写：昵称、孩子年级、所在城市
- 初始积分：新用户赠送100积分

#### 2.1.2 用户等级系统
- **新手用户**（0-499积分）：每日下载限制5个文件
- **活跃用户**（500-1999积分）：每日下载限制15个文件
- **资深用户**（2000-4999积分）：每日下载限制30个文件
- **专家用户**（5000+积分）：无下载限制

### 2.2 资源管理模块
#### 2.2.1 资源上传
- **支持格式**：PDF、DOC/DOCX、PPT/PPTX、XLS/XLSX、JPG、PNG
- **文件大小限制**：单个文件不超过50MB
- **必填信息**：
  - 资源标题
  - 年级选择（小学1-6年级，初中1-3年级，高中1-3年级）
  - 科目选择（语文、数学、英语、物理、化学、生物、历史、地理、政治）
  - 资源类型（试卷、教辅、课件、笔记、其他）
  - 简要描述
- **积分奖励**：上传成功获得20积分

#### 2.2.2 资源展示
- 资源列表页：缩略图、标题、年级、科目、上传时间、下载次数
- 资源详情页：完整信息、预览（图片格式）、下载按钮
- 热门推荐：基于下载量排序

### 2.3 搜索检索模块
#### 2.3.1 搜索功能
- **关键词搜索**：支持标题和描述内容搜索
- **筛选条件**：
  - 年级筛选
  - 科目筛选
  - 资源类型筛选
  - 上传时间筛选
- **排序方式**：最新上传、下载量、相关度

#### 2.3.2 分类浏览
- 按年级分类展示
- 按科目分类展示
- 按资源类型分类展示

### 2.4 积分系统模块
#### 2.4.1 积分获取规则
- 新用户注册：100积分
- 上传资源：20积分/个
- 每日签到：5积分
- 资源被下载：2积分/次（上传者获得）
- 完善个人信息：10积分（一次性）

#### 2.4.2 积分消耗规则
- 下载资源：10积分/个
- 发布悬赏：自定义积分数量（最低50积分）

### 2.5 悬赏求助模块
#### 2.5.1 悬赏发布
- 悬赏标题和详细描述
- 年级和科目选择
- 悬赏积分设置（最低50积分）
- 悬赏有效期（7天）

#### 2.5.2 悬赏响应
- 用户可上传资源响应悬赏
- 悬赏发布者确认资源质量
- 确认后积分自动转移给响应者

### 2.6 用户互动模块
#### 2.6.1 举报系统
- 资源举报：版权问题、内容不当、格式错误
- 用户举报：恶意行为、垃圾信息
- 举报处理：管理员审核，违规内容下架

#### 2.6.2 收藏功能
- 用户可收藏感兴趣的资源
- 个人收藏夹管理

## 三、用户流程设计

### 3.1 新用户注册流程
1. 手机号注册 → 2. 验证码验证 → 3. 设置密码 → 4. 填写基本信息 → 5. 获得100初始积分

### 3.2 资源上传流程
1. 选择文件 → 2. 填写资源信息 → 3. 确认上传 → 4. 获得20积分奖励

### 3.3 资源下载流程
1. 搜索/浏览资源 → 2. 查看资源详情 → 3. 确认下载（扣除10积分） → 4. 下载文件

### 3.4 悬赏求助流程
1. 发布悬赏（扣除积分） → 2. 等待响应 → 3. 查看响应资源 → 4. 确认满意度 → 5. 积分转移

## 四、技术架构设计

### 4.1 技术栈选择
- **后端框架**：FastAPI (Python)
- **数据库**：PostgreSQL + Redis（缓存）
- **文件存储**：本地存储 + 云存储备份
- **前端框架**：Vue.js 3 + Element Plus
- **部署方案**：Docker + Nginx

### 4.2 系统架构
```
前端界面 (Vue.js)
    ↓
API网关 (FastAPI)
    ↓
业务逻辑层
    ↓
数据访问层 (SQLAlchemy)
    ↓
数据存储 (PostgreSQL + Redis + 文件系统)
```

### 4.3 核心模块
- **用户认证模块**：JWT token认证
- **文件处理模块**：文件上传、格式验证、存储管理
- **积分计算模块**：积分获取、消耗、等级计算
- **搜索引擎模块**：全文搜索、分类筛选
- **通知系统模块**：积分变动、悬赏状态通知

## 五、数据库设计概要

### 5.1 核心数据表
- **users**：用户基本信息、积分、等级
- **resources**：资源信息、文件路径、分类标签
- **downloads**：下载记录、积分交易记录
- **bounties**：悬赏信息、状态、积分金额
- **reports**：举报记录、处理状态
- **user_actions**：用户行为日志、积分变动记录

## 六、MVP版本功能优先级

### 6.1 P0功能（必须实现）
- 用户注册/登录
- 资源上传/下载
- 基础搜索功能
- 积分系统核心逻辑

### 6.2 P1功能（重要功能）
- 悬赏求助系统
- 用户等级系统
- 举报功能

### 6.3 P2功能（优化功能）
- 高级搜索筛选
- 收藏功能
- 用户行为分析

## 七、风险控制措施

### 7.1 内容风险控制
- 用户举报机制
- 关键词过滤
- 文件格式严格限制
- 用户行为监控

### 7.2 技术风险控制
- 文件大小限制
- 上传频率限制
- 积分异常监控
- 数据备份策略

## 八、运营策略

### 8.1 冷启动策略
- 管理员预置优质资源
- 邀请种子用户参与测试
- 新用户积分奖励机制

### 8.2 用户激励策略
- 每日签到奖励
- 优质资源额外奖励
- 用户等级特权体系
